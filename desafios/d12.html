<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio 12 - Preço mudou</title>
</head>
<body>
    <h1>Preço mudou</h1>
    <input type="button" value="Verificar" onclick="verificar()">
    <p id="res">Clique no botão acima para analisar a mudança de preço.</p>

    <script>
        function verificar () {
            var precoAnt = Number(window.prompt('Qual era o preço anterior do produto?'));
            var precoAtu = Number(window.prompt('Qual é o preço atual do produto?'));
            var precoDif = precoAtu - precoAnt;
            var percentMenor = precoDif * (100 / precoAnt);
            var percentMaior = precoDif * (100 / precoAtu);

            var res = document.getElementById('res');

            res.innerHTML = `Analisando os valores informados.`;
            res.innerHTML += `<br> O produto custava ${precoAnt.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}, e agora custa ${precoAtu.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}.`;
            if(precoAtu > precoAnt) {
                res.innerHTML += `<br>Hoje o produto está mais caro!`;
                res.innerHTML += `<br>O preço subiu ${precoDif.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})} em relação ao preço anterior.`;
                res.innerHTML += `<br>Uma variação de ${percentMenor.toFixed(1)}% pra cima.`;
            } else {
                res.innerHTML += `<br>Hoje o produto está mais barato!`;
                res.innerHTML += `<br>O preço caiu ${precoDif.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})} em relação ao preço anterior.`;
                res.innerHTML += `<br>Uma variação de ${percentMaior.toFixed(2)}% pra baixo.`;
            }
        }
    </script>
</body>
</html>